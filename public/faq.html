<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FAQ - Miraidon Trade Services</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>body { background: #020617; color: #e2e8f0; font-family: 'Segoe UI', sans-serif; }</style>
</head>
<body class="min-h-screen flex flex-col">
    
    <nav class="p-6 flex flex-col md:flex-row justify-between items-center max-w-7xl mx-auto w-full z-10 gap-4">
        <a href="/" class="text-2xl font-bold text-indigo-400 tracking-wider">MIRAIDON TRADE SERVICES</a>
        <div class="space-x-6 text-sm font-bold text-slate-400">
            <a href="/" class="hover:text-white transition">HOME</a>
            <a href="/features.html" class="hover:text-white transition">FEATURES</a>
            <a href="/policies.html" class="hover:text-white transition">POLICIES</a>
            <a href="/faq.html" class="text-white border-b-2 border-indigo-500 pb-1">FAQ</a>
            <a href="https://discord.gg/pkm-universe" class="hover:text-white transition">DISCORD</a>
            <a href="/login.html" class="text-indigo-400 hover:text-indigo-300 transition">STAFF LOGIN</a>
        </div>
    </nav>

    <div class="flex-1 max-w-4xl mx-auto w-full p-6">
        <h1 class="text-3xl font-black mb-8 text-center text-white">FREQUENTLY ASKED QUESTIONS</h1>
        
        <div id="faq-container" class="space-y-4">
            <div class="text-center text-slate-500 animate-pulse">Loading Knowledge Base...</div>
        </div>
    </div>

    <footer class="bg-slate-950 border-t border-slate-900 p-8 text-center mt-12">
        <p class="text-xs text-slate-600">
            &copy; 2025 Miraidon Trade Services. Not affiliated with Nintendo, Game Freak, or The Pokémon Company.
        </p>
    </footer>

    <script>
        async function loadFAQ() {
            try {
                const res = await fetch('/api/faq');
                const data = await res.json();
                
                const container = document.getElementById('faq-container');
                container.innerHTML = '';

                if(data.length === 0) {
                    container.innerHTML = '<div class="text-center text-slate-600">No questions yet.</div>';
                    return;
                }

                data.forEach(item => {
                    const details = document.createElement('details');
                    details.className = "group bg-slate-900/50 border border-slate-800 rounded-xl overflow-hidden cursor-pointer";
                    
                    details.innerHTML = `
                        <summary class="p-6 font-bold text-lg text-slate-200 group-open:text-indigo-400 transition select-none flex justify-between items-center">
                            ${item.question}
                            <span class="text-slate-500 group-open:rotate-180 transition">▼</span>
                        </summary>
                        <div class="px-6 pb-6 text-slate-400 leading-relaxed text-sm whitespace-pre-wrap border-t border-slate-800/50 pt-4">
                            ${item.answer}
                        </div>
                    `;
                    container.appendChild(details);
                });
            } catch(e) {
                console.error("Failed to load FAQ");
            }
        }
        loadFAQ();
    </script>
</body>
</html>
